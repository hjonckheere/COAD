<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Dashboard Général - Vue d'ensemble des indicateurs de l'application MAEVH.">
    <title>Dashboard Général - MAEVH</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Styles personnalisés pour le tableau de bord */
        .dashboard {
            padding: 2em;
            background-color: #f8f9fa;
            text-align: center; /* Centrer le contenu */
        }

        /* Conteneur des cartes */
        .cards {
            display: grid; /* Utilisation de la grille */
            grid-template-columns: 1fr 1fr; /* Deux colonnes */
            gap: 40px; /* Espace entre les cartes */
            justify-content: center; /* Centrer les cartes */
            margin: 0 auto; /* Centre le conteneur */
            max-width: 1500px; /* Largeur maximale plus grande */
        }

        /* Styles des cartes individuelles */
        .card {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 2em;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s;
            height: 600px; /* Augmenter la hauteur */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            width: 100%; /* Prend toute la largeur de la colonne */
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .card h3 {
            font-size: 1.6em; /* Augmenter la taille du texte */
            margin-bottom: 1em;
        }

        /* Taille des graphiques dans chaque carte */
        .chart {
            flex: 1; /* Prend tout l'espace vertical disponible */
            height: 100%; /* Remplit la hauteur disponible */
        }

        /* Ajustement de la largeur et hauteur du canvas */
        .card canvas {
            width: 100% !important; /* Largeur complète du conteneur */
            height: 80% !important; /* Prendre une grande partie de la hauteur */
        }

        /* Section des indicateurs consolidés */
        .consolidated {
            background-color: #fff;
            padding: 2em;
            border-radius: 8px;
            margin-top: 2em;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-align: left;
            max-width: 1500px;
            margin: 2em auto;
        }

        /* Disposition des graphiques consolidés */
        .performance-charts {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
            margin-top: 2em;
        }

        .performance-charts .chart {
            width: calc(33% - 20px); /* Trois graphiques par ligne */
            height: 400px; /* Hauteur accrue pour les graphiques */
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1em;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 2em;
        }
        
        .btn-connexion {
            background-color: #1abc9c;
            padding: 10px 20px;
            border-radius: 5px;
            color: #fff;
            text-decoration: none;
            font-size: 1.1em;
        }

        /* Responsive Design : affichage en une colonne sur les petits écrans */
        @media screen and (max-width: 1024px) {
            .cards {
                grid-template-columns: 1fr; /* Affiche chaque carte en une seule colonne */
                margin: 0;
            }

            .performance-charts .chart {
                width: 100%; /* Prend toute la largeur du conteneur */
                height: 300px; /* Réduit la hauteur des graphiques pour les petits écrans */
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Tableau de Bord Général MAEVH</h1>
        <nav class="nav">
            <ul>
                <li><a href="dashboard.html" class="active">Accueil</a></li>
                <li><a href="financier.html">Indicateurs Financiers</a></li>
                <li><a href="processus.html">Processus Internes</a></li>
                <li><a href="rh.html">Ressources Humaines</a></li>
                <li><a href="marketing.html">Marketing & Ventes</a></li>
                <li><a href="index.html" class="btn-connexion">Déconnexion</a></li>
            </ul>
        </nav>
    </header>

    <main class="dashboard">
        <!-- Vue d'ensemble des indicateurs -->
        <section class="overview">
            <h2>Vue d'Ensemble des Indicateurs</h2>
            <p>Bienvenue sur le tableau de bord général. Cliquez sur un graphique pour voir les détails complets de chaque section.</p>
            <div class="cards">
                <!-- Carte 1 : Aperçu des Indicateurs Financiers -->
                <div class="card card-financial">
                    <h3>Indicateurs Financiers</h3>
                    <a href="financier.html">
                        <div class="chart">
                            <canvas id="financialOverviewChart"></canvas>
                        </div>
                    </a>
                </div>

                <!-- Carte 2 : Aperçu des Processus Internes -->
                <div class="card card-internal">
                    <h3>Processus Internes</h3>
                    <a href="processus.html">
                        <div class="chart">
                            <canvas id="internalProcessesChart"></canvas>
                        </div>
                    </a>
                </div>

                <!-- Carte 3 : Aperçu des Ressources Humaines -->
                <div class="card card-hr">
                    <h3>Ressources Humaines</h3>
                    <a href="rh.html">
                        <div class="chart">
                            <canvas id="hrOverviewChart"></canvas>
                        </div>
                    </a>
                </div>

                <!-- Carte 4 : Aperçu des Performances Marketing & Ventes -->
                <div class="card card-marketing">
                    <h3>Marketing & Ventes</h3>
                    <a href="marketing.html">
                        <div class="chart">
                            <canvas id="marketingOverviewChart"></canvas>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Indicateurs Clés Consolidés -->
        <section class="consolidated">
            <h2>Indicateurs Clés Consolidés</h2>
            <p>
                Les indicateurs consolidés donnent un aperçu des performances globales de l'entreprise. Ils incluent le chiffre d'affaires consolidé,
                la rentabilité nette globale, ainsi que l'évolution des dépenses d'exploitation. Ces indicateurs permettent de suivre la santé financière 
                de l'entreprise et de prendre des décisions stratégiques fondées.
            </p>
            <div class="performance-charts">
                <!-- Graphique : Chiffre d'Affaires Consolidé -->
                <div class="chart">
                    <h4>Chiffre d'Affaires Consolidé</h4>
                    <canvas id="consolidatedRevenueChart"></canvas>
                </div>

                <!-- Graphique : Rentabilité Consolidée -->
                <div class="chart">
                    <h4>Rentabilité Nette Consolidée</h4>
                    <canvas id="consolidatedProfitChart"></canvas>
                </div>

                <!-- Graphique : Évolution des Dépenses d'Exploitation -->
                <div class="chart">
                    <h4>Évolution des Dépenses d'Exploitation</h4>
                    <canvas id="consolidatedExpensesChart"></canvas>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2024 Tableau de Bord MAEVH. Tous droits réservés.</p>
    </footer>

    <!-- Script pour les graphiques -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Initialiser les graphiques de la page d'accueil
        const financialCtx = document.getElementById('financialOverviewChart').getContext('2d');
        new Chart(financialCtx, {
            type: 'bar',
            data: {
                labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                datasets: [{
                    label: 'Chiffre d\'Affaires (€)',
                    data: [120000, 150000, 180000, 50000],
                    backgroundColor: ['#3498db', '#1abc9c', '#e74c3c', '#f1c40f']
                }]
            }
        });

        const internalCtx = document.getElementById('internalProcessesChart').getContext('2d');
        new Chart(internalCtx, {
            type: 'doughnut',
            data: {
                labels: ['Résolus', 'En attente'],
                datasets: [{
                    label: 'Taux de Résolution',
                    data: [85, 15],
                    backgroundColor: ['#2ecc71', '#e74c3c']
                }]
            }
        });

        const hrCtx = document.getElementById('hrOverviewChart').getContext('2d');
        new Chart(hrCtx, {
            type: 'pie',
            data: {
                labels: ['Employés Permanents', 'Contractuels'],
                datasets: [{
                    label: 'Répartition des Effectifs',
                    data: [70, 30],
                    backgroundColor: ['#3498db', '#f1c40f']
                }]
            }
        });

        const marketingCtx = document.getElementById('marketingOverviewChart').getContext('2d');
        new Chart(marketingCtx, {
            type: 'line',
            data: {
                labels: ['2019', '2020', '2021', '2022', '2023'],
                datasets: [{
                    label: 'Évolution des Ventes',
                    data: [10, 15, 20, 18, 25],
                    borderColor: '#e74c3c',
                    backgroundColor: 'rgba(231, 76, 60, 0.2)',
                    fill: true,
                    tension: 0.4
                }]
            }
        });

        // Graphiques pour les Indicateurs Consolidés
        const revenueCtx = document.getElementById('consolidatedRevenueChart').getContext('2d');
        new Chart(revenueCtx, {
            type: 'bar',
            data: {
                labels: ['2019', '2020', '2021', '2022', '2023'],
                datasets: [{
                    label: 'Chiffre d\'Affaires Consolidé (€)',
                    data: [400000, 450000, 500000, 480000, 550000],
                    backgroundColor: '#3498db'
                }]
            }
        });

        const profitCtx = document.getElementById('consolidatedProfitChart').getContext('2d');
        new Chart(profitCtx, {
            type: 'line',
            data: {
                labels: ['2019', '2020', '2021', '2022', '2023'],
                datasets: [{
                    label: 'Rentabilité Nette (%)',
                    data: [15, 18, 20, 22, 25],
                    borderColor: '#2ecc71',
                    backgroundColor: 'rgba(46, 204, 113, 0.2)',
                    fill: true,
                    tension: 0.4
                }]
            }
        });

        const expensesCtx = document.getElementById('consolidatedExpensesChart').getContext('2d');
        new Chart(expensesCtx, {
            type: 'bar',
            data: {
                labels: ['2019', '2020', '2021', '2022', '2023'],
                datasets: [{
                    label: 'Dépenses d\'Exploitation (€)',
                    data: [300000, 320000, 340000, 360000, 380000],
                    backgroundColor: '#e74c3c'
                }]
            }
        });
    </script>
</body>
</html>